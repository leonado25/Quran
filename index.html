<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>‡∏ã‡∏π‡πÄ‡∏£‡∏≤‡∏∞‡∏Æ‡πå ‡∏≠‡∏±‡∏•‡∏ü‡∏≤‡∏ï‡∏¥‡∏´‡∏∞‡∏Æ‡πå - Al-Qur'an Online</title>
  <style>
    body{font-family:sans-serif;margin:0;padding:0;background:#fdfdfd;color:#222}
    header{background:#116466;color:#fff;padding:1rem;text-align:center}
    .container{max-width:700px;margin:auto;padding:2rem 1rem}
    .ayah{font-size:1.5rem;text-align:center;margin:1rem 0;padding:1rem;border-radius:8px;transition:0.3s}
    .highlight{background:#d0f0e0;border:2px solid #116466}
    .btn{background:#116466;color:#fff;border:none;padding:0.6rem 1.2rem;border-radius:8px;font-size:1rem;cursor:pointer}
    .btn:hover{background:#0e4e50}
    a.back{display:block;text-align:center;color:#116466;margin-top:2rem;text-decoration:none}
    a.back:hover{text-decoration:underline}
  </style>
</head>
<body>

<header>
  <h1>üïã ‡∏ã‡∏π‡πÄ‡∏£‡∏≤‡∏∞‡∏Æ‡πå ‡∏≠‡∏±‡∏•‡∏ü‡∏≤‡∏ï‡∏¥‡∏´‡∏∞‡∏Æ‡πå</h1>
  <p>‡∏ö‡∏ó‡∏ó‡∏µ‡πà 1 ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Mishary Rashid Alafasy</p>
</header>

<div class="container">
  <button class="btn" onclick="loadAndPlay()">‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡πà‡∏≤‡∏ô</button>
  <div id="verses"></div>
  <a href="index.html" class="back">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
</div>

<script>
  async function loadAndPlay() {
    const res = await fetch("https://api.alquran.cloud/v1/surah/1/ar.alafasy");
    const data = await res.json();
    const versesDiv = document.getElementById("verses");
    versesDiv.innerHTML = "";

    const ayahs = data.data.ayahs;
    ayahs.forEach(ayah => {
      const d = document.createElement("div");
      d.className = "ayah";
      d.id = "ayah" + ayah.numberInSurah;
      d.textContent = ayah.text;
      versesDiv.appendChild(d);
    });

    playSequence(ayahs);
  }

  function playSequence(ayahs) {
    let idx = 0;
    function playNext() {
      if (idx > 0) document.getElementById("ayah" + ayahs[idx-1].numberInSurah).classList.remove("highlight");
      if (idx >= ayahs.length) return;
      const ayah = ayahs[idx];
      document.getElementById("ayah" + ayah.numberInSurah).classList.add("highlight");
      const audio = new Audio(ayah.audio);
      audio.play();
      audio.onended = () => {
        idx++;
        playNext();
      };
    }
    playNext();
  }
</script>

</body>
</html>
